<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/blog-data/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css"><title>变量 | Blog</title><meta name="description" content="A blog and knowledge management system about data and visualization.">
    <link rel="modulepreload" href="/blog-data/assets/app.a4413a59.js"><link rel="modulepreload" href="/blog-data/assets/变量.html.3bb77552.js"><link rel="modulepreload" href="/blog-data/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog-data/assets/变量.html.80877bd7.js">
    <link rel="stylesheet" href="/blog-data/assets/style.b42fd117.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="min-h-screen flex flex-col"><nav class="px-4 sm:px-8 py-2 flex justify-between items-center sticky top-0 z-30 bg-white"><div class="left flex items-center space-x-0.5"><!--[--><button class="text-gray-400 hover:bg-gray-100 catelog-btn p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--><a class="avatar p-2 hover:bg-gray-100 rounded-md" href="/blog-data/#"><img src="/blog-data/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="right hidden sm:flex items-center space-x-0.5"><!--[--><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">All</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Anaconda</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Jupyter</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Math</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Python</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Vis</button><!--]--><!--[--><button class="text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md hidden lg:block"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--></div><div class="more-container sm:hidden relative"><button style="" class="p-2 select-none hover:bg-gray-100 rounded-md text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg></button><button style="display:none;" class="p-2 select-none hover:bg-gray-100 rounded-md text-red-400 hover:text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><div style="display:none;" class="more-modal p-2 absolute top-10 right-0 z-10 flex flex-col space-y-2 bg-gray-100 rounded-md opacity-90"><!--[--><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">All</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Anaconda</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Jupyter</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Math</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Python</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Vis</button><!--]--></div></div></nav><div class="relative flex-grow"><div class="theme-container no-navbar no-sidebar"><!--[--><!----><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="变量" tabindex="-1"><a class="header-anchor" href="#变量" aria-hidden="true">#</a> 变量</h1><p>变量 Variable 是用以引用/访问内存中的数据，有时也称为 <strong>标识符 Identifier</strong>，一般可以通过<strong>赋值符号</strong>改变其引用的内容；与之相对应的 <strong>字面量 Literal</strong>，是指实际或本身的含义，而非引用指代，其直接表示其本身，因此无法给字面量赋值绑定其他数据。</p><h2 id="创建变量" tabindex="-1"><a class="header-anchor" href="#创建变量" aria-hidden="true">#</a> 创建变量</h2><p><code> variable_name = value</code></p><ul><li>其中 <code>=</code> 是<strong>赋值</strong>运算符</li><li>表达式的<strong>顺序</strong>非常重要，即<strong>变量名 <code>=</code> 值</strong>。赋值运算符 <code>=</code> 的作用是<strong>将右侧的值赋给左侧的变量名</strong></li></ul><p><strong>注意</strong>：</p><ul><li>在赋值时若右侧是表达式，那么左侧变量被赋予的是右侧表达式的<strong>值</strong>，而不是表达式本身</li><li>如果你要使用变量名，首先<strong>必须为其赋值</strong></li></ul><h3 id="多重赋值" tabindex="-1"><a class="header-anchor" href="#多重赋值" aria-hidden="true">#</a> 多重赋值</h3><p>可以在一行代码中<strong>同时为两个变量赋值</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment">#Using multiple assignment</span>
savings<span class="token punctuation">,</span> salary <span class="token operator">=</span> <span class="token number">514.86</span><span class="token punctuation">,</span> <span class="token number">320.51</span>   <span class="token comment"># 使用逗号分隔</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>第一个变量被赋值为<code>=</code>之后的第一个值，第二个变量则接收第二个值。</p><p>对于两个紧密相关的变量，如某物体的 x 轴和 y 轴坐标，可以使用多重赋值。</p><h2 id="增量赋值" tabindex="-1"><a class="header-anchor" href="#增量赋值" aria-hidden="true">#</a> 增量赋值</h2><p>所有算术运算符都有增量赋值运算符。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 等价于 x = x + 1</span>
x <span class="token operator">+=</span> <span class="token number">1</span>

<span class="token comment"># 等价于 toobig = toobig /2</span>
toobig <span class="token operator">/=</span> <span class="token number">2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="变量命名规范" tabindex="-1"><a class="header-anchor" href="#变量命名规范" aria-hidden="true">#</a> 变量命名规范</h2><ul><li><strong>保留字</strong>不可作变量名。保留字列表见此。见<a href="https://docs.python.org/3/reference/lexical_analysis.html#keywords" target="_blank" rel="noopener noreferrer">保留字列表</a></li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>False      await      else       import     pass
None       break      except     in         raise
True       class      finally    is         return
and        continue   for        lambda     try
as         def        from       nonlocal   while
assert     del        global     not        with
async      elif       if         or         yield
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>变量名中只能使用<strong>普通字母（小写）</strong>、<strong>数字</strong>和<strong>下划线</strong>（且以数字不可作为变量开头）</li><li>命名变量的方式称为<strong>snake case</strong></li><li>不建议使用<strong>内置的标识符</strong>作为变量名，虽然不会立即导致错误（例如为 int 赋值）</li></ul><h2 id="访问变量" tabindex="-1"><a class="header-anchor" href="#访问变量" aria-hidden="true">#</a> 访问变量</h2><p>访问变量仅需使用<strong>变量名</strong></p><p>如果需要将变量的值显示在终端可使用内置函数<code>print()</code> （如果没有 print，Python 中发生的事情只会停留在 Python 内部。)</p><p><strong>注意</strong>： 在 Python 2 中打印时不需要使用括号，但是在 Python 3 中需要，所以请勿忘记<strong>括号</strong>！<code>print</code> 是 Python 的一个内置函数。Python 中的函数调用始终带有一对括号，如果有参数，那么参数放在括号内。所以 <code>print</code> 函数的语法需要一对括号，并将参数放在括号内。</p><h2 id="更新变量" tabindex="-1"><a class="header-anchor" href="#更新变量" aria-hidden="true">#</a> 更新变量</h2><p>通过为<strong>同一个变量名重新赋值</strong>以更新变量存储的数据，在重新赋值时可以<strong>使用含有该变量名</strong>（在赋值号右侧该变量指向原始数据）的计算公式来更新数值</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> manila_pop <span class="token operator">=</span> <span class="token number">1780148</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>manila_pop<span class="token punctuation">)</span>
<span class="token number">1780148</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> manila_pop <span class="token operator">=</span> manila_pop <span class="token operator">+</span> <span class="token number">1675</span> <span class="token operator">-</span> <span class="token number">250</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token keyword">print</span><span class="token punctuation">(</span>manila_pop<span class="token punctuation">)</span>
<span class="token number">1781573</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="/blog-data/assets/1535551382_2321.1db922fe.jpg" alt="表达式赋值"></p><ul><li>位于等号左侧的变量 <code>manila_pop</code>，被赋值为整个右侧表达式 <code>manila_pop + 1675 - 250</code> 的<strong>值</strong></li><li>赋值顺序是将右侧的<strong>值</strong>赋给左侧的变量，所以在运行右侧的表达式时 <code>manila_pop</code> 值仍为 <code>1780148</code></li><li>所以赋值号右侧 <code>manila_pop</code> 的当前值仍然为 <code>1780148</code></li></ul><h3 id="简化表达式-其他赋值运算符" tabindex="-1"><a class="header-anchor" href="#简化表达式-其他赋值运算符" aria-hidden="true">#</a> 简化表达式（其他赋值运算符）</h3><p>赋值符号左右两边都涉及相同的变量时，表达式可能可使用简化表达式</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># increase the value of manila_pop by 1675</span>
<span class="token comment"># equal to manila_pop = manila_pop + 1675</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> manila_pop <span class="token operator">+=</span> <span class="token number">1675</span>

<span class="token comment"># decrease the value of manila_pop by 250</span>
<span class="token comment"># equal to manila_pop = manila_pop - 250</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> manila_pop <span class="token operator">-=</span> <span class="token number">250</span>

<span class="token comment"># decimate manila_pop</span>
<span class="token comment"># equal to manila_pop = manila_pop * 0.9</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> manila_pop <span class="token operator">*=</span> <span class="token number">0.9</span>

<span class="token comment"># half the area of Manila</span>
<span class="token comment"># equal to manila_pop = manila_pop / 2</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> manila_area <span class="token operator">/=</span>  <span class="token number">2</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="变量作用域" tabindex="-1"><a class="header-anchor" href="#变量作用域" aria-hidden="true">#</a> 变量作用域</h2><p>变量作用域 scope 是指程序<strong>在哪个部分可引用或使用某个变量</strong></p><p>函数使用时需要特别留意变量的作用域</p><ul><li>如果变量是在函数<strong>内</strong>创建的，则该变量只能在函数<strong>内部使用（修改或引用）</strong>（无法从函数外部使用）</li><li>如果是在函数之<strong>外</strong>创建，依然可以在函数<strong>内部访问</strong>（但不能<strong>更改或重新赋值</strong>以修改在<strong>函数外部</strong>创建的变量）</li></ul><p>💡 将变量<strong>定义在所需的最小作用域内</strong>。虽然函数可以引用在更大的作用域内定义的变量，但是通常不建议这么做，因为程序有很多变量，可能不记得之前定义了什么全局变量而引起冲突。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>egg_count <span class="token operator">=</span> <span class="token number">0</span>

<span class="token keyword">def</span> <span class="token function">buy_eggs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    egg_count <span class="token operator">+=</span> <span class="token number">12</span> <span class="token comment"># purchase a dozen eggs</span>

buy_eggs<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Traceback <span class="token punctuation">(</span>most recent call last<span class="token punctuation">)</span>:
  File <span class="token string">&quot;C:/Users/10267/Desktop/test.py&quot;</span>, line <span class="token number">6</span>, <span class="token keyword">in</span> <span class="token operator">&lt;</span>module<span class="token operator">&gt;</span>
    buy_eggs<span class="token punctuation">(</span><span class="token punctuation">)</span>
  File <span class="token string">&quot;C:/Users/10267/Desktop/test.py&quot;</span>, line <span class="token number">4</span>, <span class="token keyword">in</span> buy_eggs
    egg_count <span class="token operator">+=</span> <span class="token number">12</span>
UnboundLocalError: <span class="token builtin class-name">local</span> variable <span class="token string">&#39;egg_count&#39;</span> referenced before assignment
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>导致 <code>UnboundLocalError</code> 因为 Python 不允许函数<strong>修改不在函数作用域内的变量</strong>。（但可以引用）</p><ul><li><p>此处先在函数外定义了变量 <code>egg_count</code> 的值</p></li><li><p>在函数内部变量 <code>egg_count</code> 虽然与函数外的变量有相同的名称，但是可以理解为是不同的变量（可以理解为函数内的变量是形参），此处直接没有定义内部的变量就对变量进行加法操作，所以会引起 <code>UnboundLocalError</code> 错误</p></li><li><p>⚠️ 上面的原则<strong>仅适用于整数和字符串</strong></p></li><li><p>⚠️ <strong>列表、字典、集合、类</strong>中可以在子程序（子函数）中通过<strong>修改局部变量达到修改全局变量</strong>的目的。</p></li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">更新时间: </span><span class="meta-item-info">2021/7/5 上午7:20:58</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><div style="width:0px;" class="catalog-container absolute top-0 right-0 h-full hidden lg:block"><div class="headings-container sticky top-36" data-v-c28348e0><ul class="max-w-max m-2 pl-7 xl:pl-16 2xl:pl-20 py-4 opacity-50 hover:opacity-100 transition-all duration-300" data-v-c28348e0><!--[--><!--]--></ul></div></div><div style="display:none;" tabindex="0" class="sidebar-container fixed inset-y-0 left-0 z-20 lg:hidden opacity-10 hover:opacity-95"><div class="headings-container px-2 space-y-2 transition-all duration-300 py-20" data-v-6eed9461><!--[--><!--]--></div></div></div><footer class="bg-gray-200 p-8 grid grid-cols-1 md:grid-cols-3 gap-4 items-center"><div class="flex justify-center md:justify-start items-center"><a class="p-2 hover:bg-gray-300 rounded-md" href="https://benbinbin.github.io/" target="_blank"><img src="/blog-data/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="text-center space-y-0.5"><p class="text-sm text-gray-600"> ©2021 <span class="author">Benbinbin</span>. All Right Reserved. </p><p class="text-xs text-center text-gray-400"> 除特殊说明外，本站的文章遵循 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400">CC-BY-SA-4.0</a> 协议 </p><p class="text-xs text-center text-gray-400"> 网站主题采用 <a href="https://github.com/Benbinbin/two-dishes-one-fish" target="_blank" class="text-blue-400">Two Dishes One Fish</a></p></div><div class="btn-container flex justify-center md:justify-end items-center space-x-0.5"><!--[--><a class="p-2 hover:bg-gray-300 rounded-md" href="mailto:benthomsonbin@gmail.com" target=""><img src="/blog-data/images/icons/email.svg" alt="email" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://github.com/Benbinbin" target="_blank"><img src="/blog-data/images/icons/github.svg" alt="github" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://juejin.cn/user/3175045314389278/posts" target="_blank"><img src="/blog-data/images/icons/juejin.svg" alt="juejin" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://dribbble.com/BinBinDesign" target="_blank"><img src="/blog-data/images/icons/dribbble.svg" alt="dribbble" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://twitter.com/Benbinbin_fun" target="_blank"><img src="/blog-data/images/icons/twitter.svg" alt="twitter" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://weibo.com/binbindesign" target="_blank"><img src="/blog-data/images/icons/weibo.svg" alt="weibo" class="w-auto h-6"></a><!--]--></div></footer></div><!--]--></div>
    <script type="module" src="/blog-data/assets/app.a4413a59.js" defer></script>
  </body>
</html>
