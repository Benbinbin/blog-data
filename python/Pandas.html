<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/blog-data/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css"><title>Pandas | Blog</title><meta name="description" content="A blog and knowledge management system about data and visualization.">
    <link rel="modulepreload" href="/blog-data/assets/app.a4413a59.js"><link rel="modulepreload" href="/blog-data/assets/Pandas.html.9dc99577.js"><link rel="modulepreload" href="/blog-data/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog-data/assets/Pandas.html.9dc7d0ed.js">
    <link rel="stylesheet" href="/blog-data/assets/style.b42fd117.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="min-h-screen flex flex-col"><nav class="px-4 sm:px-8 py-2 flex justify-between items-center sticky top-0 z-30 bg-white"><div class="left flex items-center space-x-0.5"><!--[--><button class="text-gray-400 hover:bg-gray-100 catelog-btn p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--><a class="avatar p-2 hover:bg-gray-100 rounded-md" href="/blog-data/#"><img src="/blog-data/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="right hidden sm:flex items-center space-x-0.5"><!--[--><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">All</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Anaconda</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Jupyter</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Math</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Python</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Vis</button><!--]--><!--[--><button class="text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md hidden lg:block"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--></div><div class="more-container sm:hidden relative"><button style="" class="p-2 select-none hover:bg-gray-100 rounded-md text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg></button><button style="display:none;" class="p-2 select-none hover:bg-gray-100 rounded-md text-red-400 hover:text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><div style="display:none;" class="more-modal p-2 absolute top-10 right-0 z-10 flex flex-col space-y-2 bg-gray-100 rounded-md opacity-90"><!--[--><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">All</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Anaconda</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Jupyter</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Math</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Python</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Vis</button><!--]--></div></div></nav><div class="relative flex-grow"><div class="theme-container no-navbar no-sidebar"><!--[--><!----><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="pandas" tabindex="-1"><a class="header-anchor" href="#pandas" aria-hidden="true">#</a> Pandas</h1><ul><li><a href="https://pandas.pydata.org/" target="_blank" rel="noopener noreferrer">Pandas</a> 是 Python 中的数据操纵和分析软件包</li><li>Pandas 名称取自于**计量经济学<em>Panel Data</em>（面板数据）**一词</li><li>Pandas 为 Python 带来了两个新的数据结构，能够轻松直观地处理<strong>带标签数据</strong>和<strong>关系数据</strong><ul><li>Pandas Series</li><li>Pandas DataFrame</li></ul></li></ul><p>机器学习需要大量数据，但首先需要检查数据，Pandas 可对数据进行快速分析和操纵，主要的几个功能：</p><ul><li>允许为行和列<strong>设定标签</strong>，可为<strong>索引指定任何名称</strong></li><li>可以针对<strong>时间序列数据</strong>计算滚动<strong>统计学指标</strong></li><li>轻松地<strong>处理 <code>NaN</code> 值</strong></li><li>能够将<strong>不同格式的数据</strong>加载到 DataFrame 中</li><li>可以将<strong>不同的数据集合</strong>并到一起</li><li><strong>与 NumPy 和 Matplotlib 集成</strong></li></ul><p>参考：Pandas 文档<a href="https://pandas.pydata.org/pandas-docs/stable/" target="_blank" rel="noopener noreferrer">https://pandas.pydata.org/pandas-docs/stable/</a></p><h2 id="下载" tabindex="-1"><a class="header-anchor" href="#下载" aria-hidden="true">#</a> 下载</h2><p>Anaconda 中包含 Pandas</p><h3 id="安装特定版本" tabindex="-1"><a class="header-anchor" href="#安装特定版本" aria-hidden="true">#</a> 安装特定版本</h3><p>在 Anaconda 提示符处输入 <code>conda install pandas=0.22</code> 安装指定 Pandas 版本</p><h3 id="版本" tabindex="-1"><a class="header-anchor" href="#版本" aria-hidden="true">#</a> 版本</h3><p>检查你的 Pandas 版本</p><ul><li>在 Jupyter notebook 中输入 <code>!conda list pandas</code></li><li>在 Anaconda 提示符处输入 <code>conda list pandas</code></li></ul><h3 id="导入" tabindex="-1"><a class="header-anchor" href="#导入" aria-hidden="true">#</a> 导入</h3><p>在 Jupyter Notebook 中键入以导入 Pandas，一般命名为 <code>pd</code></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="pandas-series" tabindex="-1"><a class="header-anchor" href="#pandas-series" aria-hidden="true">#</a> Pandas Series</h1><p>Pandas Series（Pandas 序列）是 像<em>数组</em>一样的<strong>一维对象</strong>，可以存储很<strong>多类型</strong>的数据（相应地** Numpy <strong>数组中所有元素</strong>类型需要一样**）</p><h2 id="创建series" tabindex="-1"><a class="header-anchor" href="#创建series" aria-hidden="true">#</a> 创建Series</h2><p>先导入 <code>pandas</code> 库，再使用函数 <code>pd.Series(data, index)</code> 创建序列，其中 <code>index</code> 是一个<strong>索引标签列表</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># 创建一个购物清单，清单的元素类型不同，索引改为标签</span>
groceries <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;Yes&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;No&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;eggs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;apples&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;milk&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bread&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># We display the Groceries Pandas Series</span>
groceries
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>eggs           <span class="token number">30</span>
apples         <span class="token number">6</span>
milk         Yes
bread       No
dtype: object
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="series属性" tabindex="-1"><a class="header-anchor" href="#series属性" aria-hidden="true">#</a> Series属性</h2><h3 id="series维度" tabindex="-1"><a class="header-anchor" href="#series维度" aria-hidden="true">#</a> Series维度</h3><p>使用属性 <code>.ndim</code> 返回序列的维度，一般为 <code>1</code></p><h3 id="series形状" tabindex="-1"><a class="header-anchor" href="#series形状" aria-hidden="true">#</a> Series形状</h3><ul><li>序列的形状是指每个维度的大小，因为序列是一维，因此的返回的是元素的<strong>数量</strong></li><li>使用属性 <code>.shape</code> 返回序列的维度大小</li></ul><h3 id="series大小" tabindex="-1"><a class="header-anchor" href="#series大小" aria-hidden="true">#</a> Series大小</h3><p>使用方法 <code>.size</code> 返回序列的元素总数</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># We print some information about Groceries</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Groceries has shape:&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Groceries has dimension:&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Groceries has a total of&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token string">&#39;elements&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Groceries has shape: <span class="token punctuation">(</span><span class="token number">4</span>,<span class="token punctuation">)</span>
Groceries has dimension: <span class="token number">1</span>
Groceries has a total of <span class="token number">4</span> elements
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="输出索引标签" tabindex="-1"><a class="header-anchor" href="#输出索引标签" aria-hidden="true">#</a> 输出索引标签</h3><p>使用方法 <code>.index</code> 单独输出 Series 索引标签</p><h3 id="输出数据" tabindex="-1"><a class="header-anchor" href="#输出数据" aria-hidden="true">#</a> 输出数据</h3><p>使用方法 <code>.values</code> 输出 Series 元素的值</p><h2 id="查询索引标签" tabindex="-1"><a class="header-anchor" href="#查询索引标签" aria-hidden="true">#</a> 查询索引标签</h2><p>使用关键字 <code>in</code> 查询是否存在某个索引标签，返回布尔值</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

groceries <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;Yes&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;No&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;eggs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;apples&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;milk&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bread&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

x <span class="token operator">=</span> <span class="token string">&#39;bananas&#39;</span> <span class="token keyword">in</span> groceries
y <span class="token operator">=</span> <span class="token string">&#39;bread&#39;</span> <span class="token keyword">in</span> groceries

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Is bananas an index label in Groceries:&#39;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Is bread an index label in Groceries:&#39;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Is bananas an index label <span class="token keyword">in</span> Groceries: False
Is bread an index label <span class="token keyword">in</span> Groceries: True
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="编辑series" tabindex="-1"><a class="header-anchor" href="#编辑series" aria-hidden="true">#</a> 编辑Series</h2><h3 id="访问元素" tabindex="-1"><a class="header-anchor" href="#访问元素" aria-hidden="true">#</a> 访问元素</h3><h4 id="方括号添加数字索引" tabindex="-1"><a class="header-anchor" href="#方括号添加数字索引" aria-hidden="true">#</a> 方括号添加数字索引</h4><ul><li>方括号 <code>[]</code> 内添加<strong>数字索引</strong>访问元素，正整数从开头访问数据，使用负整数从末尾访问</li><li>为了区别使用索引类型，使用属性 <code>.iloc</code>（即 integer location）用于<strong>明确表明使用的是数字索引</strong></li><li>可输入<strong>数字列表</strong>以访问多个相应的元素</li></ul><h4 id="方括号添加索引标签" tabindex="-1"><a class="header-anchor" href="#方括号添加索引标签" aria-hidden="true">#</a> 方括号添加索引标签</h4><ul><li>方括号 <code>[ ]</code> 内添加<strong>索引标签</strong>访问元素</li><li>为了区别使用索引类型，使用属性 <code>.loc</code>（即 location）用于<strong>明确表明使用的是标签索引</strong></li><li>可输入<strong>索引标签列表</strong>以访问多个相应的元素</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd
groceries <span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;Yes&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;No&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;eggs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;apples&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;milk&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bread&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment"># 使用索引标签访问元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;How many eggs do we need to buy:&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">[</span><span class="token string">&#39;eggs&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment"># 输入索引标签列表访问多个元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Do we need milk and bread:\n&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;milk&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bread&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">#使用数字索引访问元素</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;How many eggs and apples do we need to buy:\n&#39;</span><span class="token punctuation">,</span>  groceries<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>How many eggs <span class="token keyword">do</span> we need to buy: <span class="token number">30</span>

Do we need milk and bread:
milk       Yes
bread     No
dtype: object

How many eggs and apples <span class="token keyword">do</span> we need to buy:
eggs       <span class="token number">30</span>
apples     <span class="token number">6</span>
dtype: object
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="修改元素" tabindex="-1"><a class="header-anchor" href="#修改元素" aria-hidden="true">#</a> 修改元素</h3><p>创建好 Pandas Series 后可更改其元素，使用<strong>赋值符号 <code>=</code></strong> 可以将新的值赋给相应的元素</p><h3 id="删除元素" tabindex="-1"><a class="header-anchor" href="#删除元素" aria-hidden="true">#</a> 删除元素</h3><ul><li>使用方法 <code>.drop(label)</code> 删除 Pandas Series 中的条目（元素），但该方法<strong>不会更改原始 Series</strong>，而是返回一个<strong>修改后的副本</strong></li><li>使用方法 <code>.drop(label, inplace=True)</code> 并将关键字 <code>inplace</code> 替代为 <code>True</code> 可以原地从 Pandas Series 中删除条目</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Original Grocery List:\n&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;We remove apples (out of place):\n&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token string">&#39;apples&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Grocery List after removing apples out of place:\n&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">)</span>

groceries<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token string">&#39;apples&#39;</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Grocery List after removing apples in place:\n&#39;</span><span class="token punctuation">,</span> groceries<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Original Grocery List:
eggs           <span class="token number">30</span>
apples         <span class="token number">6</span>
milk         Yes
bread       No
dtype: object

We remove apples <span class="token punctuation">(</span>out of place<span class="token punctuation">)</span>:
eggs           <span class="token number">30</span>
milk         Yes
bread       No
dtype: object

Grocery List after removing apples out of place:
eggs           <span class="token number">30</span>
apples         <span class="token number">6</span>
milk         Yes
bread       No
dtype: object

Grocery List after removing apples <span class="token keyword">in</span> place:
eggs           <span class="token number">30</span>
milk         Yes
bread       No
dtype: object
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="运算" tabindex="-1"><a class="header-anchor" href="#运算" aria-hidden="true">#</a> 运算</h2><h3 id="算术运算" tabindex="-1"><a class="header-anchor" href="#算术运算" aria-hidden="true">#</a> 算术运算</h3><p>可以对 Series 执行<strong>所有</strong>或<strong>特定</strong>元素级算术运算，还可以导入 NumPy 使用数学函数</p><p>⚠️ 由于 Pandas 元素的数据类型可并不统一，因此进行运算是需要确保算术运算对于所操作的<strong>元素数据类型有效</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>fruits<span class="token operator">=</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;apples&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;oranges&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bananas&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Original grocery list of fruits:\n &#39;</span><span class="token punctuation">,</span> fruits<span class="token punctuation">)</span>

<span class="token comment"># 对序列 fruits 所有元素进行算术运算</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;fruits + 2:\n&#39;</span><span class="token punctuation">,</span> fruits <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># We add 2 to each item in fruits</span>

<span class="token comment"># 对序列 fruit 中具体的条目（元素）进行运算</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Amount of bananas + 2 = &#39;</span><span class="token punctuation">,</span> fruits<span class="token punctuation">[</span><span class="token string">&#39;bananas&#39;</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span>

<span class="token comment"># 导入 NumPy 模块，使用内建函数</span>
<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;SQRT(X) =\n&#39;</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>fruits<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>Original grocery list of fruits:
apples         <span class="token number">10</span>
oranges        <span class="token number">6</span>
bananas       <span class="token number">3</span>
dtype: int64

fruits + <span class="token number">2</span>:
apples         <span class="token number">12</span>
oranges        <span class="token number">8</span>
bananas       <span class="token number">5</span>
dtype: int64

SQRT<span class="token punctuation">(</span>X<span class="token punctuation">)</span> <span class="token operator">=</span>
apples            <span class="token number">3.162278</span>
oranges         <span class="token number">2.449490</span>
bananas        <span class="token number">1.732051</span>
dtype: float64
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h1 id="pandas-dataframe" tabindex="-1"><a class="header-anchor" href="#pandas-dataframe" aria-hidden="true">#</a> Pandas DataFrame</h1><p>Pandas DataFrames 是可带<strong>标签的行和列</strong>的<strong>二维数据结构</strong>，可存储<strong>多类型的数据</strong>，类似于电子表格</p><h2 id="创建dataframe" tabindex="-1"><a class="header-anchor" href="#创建dataframe" aria-hidden="true">#</a> 创建DataFrame</h2><p>使用字典创建 DataFrame</p><ul><li>使用函数 <code>pd.DataFrame(dict)</code> 手动创建 DataFrame</li><li>传递给函数的是<strong>字典</strong><ul><li>字典的元素的<strong>键 <code>key</code></strong> 是 DataFrame 的<strong>列标签</strong></li><li>字典的元素<strong>值 <code>value</code></strong> 是 DataFrame 的数据</li></ul></li><li>DataFrame 的<strong>行标签</strong>可使用<strong>关键字 <code>index</code> 添加</strong>，默认使用数字索引，从 <code>0</code> 开始标记行</li></ul><h3 id="使用列表-数组-字典" tabindex="-1"><a class="header-anchor" href="#使用列表-数组-字典" aria-hidden="true">#</a> 使用列表（数组）字典</h3><p>创建一个字典传递给 <code>pd.DataFrame()</code> 函数，字典中的<strong>所有列表（数组）长度必须一样</strong>。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;Integers&#39;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token string">&#39;Floats&#39;</span> <span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">4.5</span><span class="token punctuation">,</span> <span class="token number">8.2</span><span class="token punctuation">,</span> <span class="token number">9.6</span><span class="token punctuation">]</span><span class="token punctuation">}</span>

df1 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;df1 is:\n&quot;</span><span class="token punctuation">,</span> df1<span class="token punctuation">)</span>

<span class="token comment"># 创建 DataFrame 并添加标签</span>
df2 <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;label 1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;label 2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;label 3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;df2 is:\n&quot;</span><span class="token punctuation">,</span> df2<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>df1 is:
        Floats	Integers
<span class="token number">0</span>	<span class="token number">4.5</span>	<span class="token number">1</span>
<span class="token number">1</span>	<span class="token number">8.2</span>	<span class="token number">2</span>
<span class="token number">2</span>	<span class="token number">9.6</span>	<span class="token number">3</span>

df2 is:
	Floats	Integers
label <span class="token number">1</span>	<span class="token number">4.5</span>	<span class="token number">1</span>
label <span class="token number">2</span>	<span class="token number">8.2</span>	<span class="token number">2</span>
label <span class="token number">3</span>	<span class="token number">9.6</span>	<span class="token number">3</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="使用-pandas-series-字典" tabindex="-1"><a class="header-anchor" href="#使用-pandas-series-字典" aria-hidden="true">#</a> 使用 Pandas Series 字典</h3><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># 创建一个字典，其中 value 是 Pandsa Series 结构，所包含的 index 作为行标签</span>
items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;Bob&#39;</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">245</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;bike&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;watch&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token string">&#39;Alice&#39;</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;book&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bike&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

<span class="token comment"># 将字典传递给函数 pd.DataFrame() 其中 key 作为列标签</span>
shopping_carts <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items<span class="token punctuation">)</span>
shopping_carts
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	Alice	Bob
bike	<span class="token number">500.0</span>	<span class="token number">245.0</span>
book	<span class="token number">40.0</span>	NaN
glasses	<span class="token number">110.0</span>	NaN
pants	<span class="token number">45.0</span>	<span class="token number">25.0</span>
<span class="token function">watch</span>	NaN	<span class="token number">55.0</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>注意：</p><ul><li>DataFrame 以表格形式显示，行和列的标签以<strong>粗体形式显示</strong></li><li>DataFrame 的<strong>行标签</strong>根据构建字典所用的两个 <strong>Pandas Series 的索引标签</strong>创建而成</li><li>DataFrame 的列标签来自字典的键</li><li>列<strong>按字母顺序排序</strong>，而不是字典中的顺序（但从数据文件中向 DataFrame 加载数据时，则按照数据原有顺序排列）</li><li><code>NaN</code> 是指非数字（Not a Number），Pandas 用 <code>NaN</code> 值填充行或列索引对应的位置中，没有值的元素</li></ul><h3 id="使用-python-字典列表" tabindex="-1"><a class="header-anchor" href="#使用-python-字典列表" aria-hidden="true">#</a> 使用 Python 字典列表</h3><p>使用由<strong>字典构成元素</strong>的列表，传递给函数 <code>pd.DataFrame()</code> 创建 DataFrame</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>items2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span><span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

store_items <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items2<span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;store 1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
store_items
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">10</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="合并产生新dataframe" tabindex="-1"><a class="header-anchor" href="#合并产生新dataframe" aria-hidden="true">#</a> 合并产生新DataFrame</h3><h4 id="合并类型" tabindex="-1"><a class="header-anchor" href="#合并类型" aria-hidden="true">#</a> 合并类型</h4><p>Pandas 中有四种合并类型：</p><p><img src="/blog-data/assets/20181208213302672_27095.e9d7b38d.png" alt="Pandas 中的四种合并类型"></p><ul><li>内联 <code>inner join</code> 使用两个 dataframe 中的键的<strong>交集</strong></li><li>外联 <code>outer join</code> 使用两个 dataframe 的键的<strong>并集</strong></li><li>左联 <code>left join</code> 仅使用来自<strong>左 dataframe 的键</strong></li><li>右联 <code>right join</code> 仅使用来自<strong>右 dataframe的键</strong></li></ul><p><strong>键</strong>指我们将进行连接的两个 dataframe 中的<strong>共同列</strong></p><h4 id="函数merge" tabindex="-1"><a class="header-anchor" href="#函数merge" aria-hidden="true">#</a> 函数merge</h4><p>使用<a href="https://pandas.pydata.org/pandas-docs/stable/merging.html#database-style-dataframe-joining-merging" target="_blank" rel="noopener noreferrer">函数</a>实现根据一个或多个<strong>键</strong> <code>key</code> 将数据帧的合并 <code>pd.merge(left, right, how=&#39;inner&#39;)</code></p><ul><li>默认采用 <code>how=&#39;inner&#39;</code> 的合并形式，可通过修改该参数实现 <code>left</code>、<code>right</code>、<code>outer</code>、<code>inner</code> 四种形式</li><li>可使用参数 <code>left_on</code>、<code>right_on</code> 设置合并时以<strong>何（几）列</strong>作为相匹配的<strong>键</strong>（即以这些列的值是否匹配，（再根据合并的形式 <code>how</code>）来决定是否合并对应的行）</li></ul><p>也可以作为方法使用 <code>df1.merge(df2)</code> 将 <code>df1</code> 与 <code>df2</code> 合并，<strong>默认</strong>将 <code>right=df2</code> 合并到 <code>left=df1</code> 右侧，使用方式是 <code>inner</code></p><p>⚠️ 区分<strong>附加</strong>方法 <code>append()</code> 竖向合并/添加数据</p><h4 id="方法join" tabindex="-1"><a class="header-anchor" href="#方法join" aria-hidden="true">#</a> 方法join</h4><p>连接其他数据帧的列，可选择基于标签 <code>index</code> 或关键列</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> caller
    A key
<span class="token number">0</span>  A0  K0
<span class="token number">1</span>  A1  K1
<span class="token number">2</span>  A2  K2
<span class="token number">3</span>  A3  K3
<span class="token number">4</span>  A4  K4
<span class="token number">5</span>  A5  K5

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> other
    B key
<span class="token number">0</span>  B0  K0
<span class="token number">1</span>  B1  K1
<span class="token number">2</span>  B2  K2

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> caller<span class="token punctuation">.</span>join<span class="token punctuation">(</span>other<span class="token punctuation">,</span> lsuffix<span class="token operator">=</span><span class="token string">&#39;_caller&#39;</span><span class="token punctuation">,</span> rsuffix<span class="token operator">=</span><span class="token string">&#39;_other&#39;</span><span class="token punctuation">)</span>   <span class="token comment"># 添加后缀，为数据帧中名称重复的列添加后缀，以区别开来， lsuffix 左侧数据帧，rsuffix 右侧数据帧</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>     A key_caller    B key_other
    <span class="token number">0</span>  A0         K0   B0        K0
    <span class="token number">1</span>  A1         K1   B1        K1
    <span class="token number">2</span>  A2         K2   B2        K2
    <span class="token number">3</span>  A3         K3  NaN       NaN
    <span class="token number">4</span>  A4         K4  NaN       NaN
    <span class="token number">5</span>  A5         K5  NaN       NaN

<span class="token comment"># 按照关键列 key 进行合并，并以 key 列作为行标签</span>
<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> caller<span class="token punctuation">.</span>join<span class="token punctuation">(</span>other<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> on<span class="token operator">=</span><span class="token string">&#39;key&#39;</span><span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span>     A key    B
    <span class="token number">0</span>  A0  K0   B0
    <span class="token number">1</span>  A1  K1   B1
    <span class="token number">2</span>  A2  K2   B2
    <span class="token number">3</span>  A3  K3  NaN
    <span class="token number">4</span>  A4  K4  NaN
    <span class="token number">5</span>  A5  K5  NaN
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><h3 id="加载数据到dataframe" tabindex="-1"><a class="header-anchor" href="#加载数据到dataframe" aria-hidden="true">#</a> 加载数据到DataFrame</h3><p>Pandas 使用不同的函数将不同格式的数据库加载到 DataFrame 中</p><p>加载<strong>结构性</strong>文件（使用特定分隔符分隔的数据），可以结合关键字 <code>sep</code> 使用，读取数据</p><h4 id="加载csv文件" tabindex="-1"><a class="header-anchor" href="#加载csv文件" aria-hidden="true">#</a> 加载csv文件</h4><ul><li>CSV 是指<strong>使用逗号 <code>,</code> 分隔值的数据文件</strong>，是一种简单的数据存储格式</li><li>使用 <code>pd.read_csv(file)</code> <a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html" target="_blank" rel="noopener noreferrer">函数</a>将 CSV 文件加载到 Pandas DataFrame 中，默认关键字 <code>sep = &#39;,&#39;</code>，修改此参数可以使用该函数读取<strong>使用其他分隔符</strong>存储的数据文件。</li><li>使用关键字 <code>header = row_number</code> 指定文件的哪一行作为<strong>标题</strong>（即指定了<strong>列标签</strong>），通常数据文件第一行作为标题。 <ul><li>如果<strong>文件顶部有额外的元信息</strong>，则需要指定另外的行作为标题行</li><li>如果数据文件中<strong>不包括列标签</strong>，可以使用 <code>header=None</code> 取消将数据文件第一行作为列标签</li><li>可以使用关键字 <code>names</code> <strong>自定义标题（列标签）</strong>，通过 <code>names=labels</code> 手动添加标签，其数量应该与数据集的 <code>columns</code> 数量相同</li></ul></li><li>索引除了可使用默认索引（从 0 递增 1 的整数）之外，还可以将一个或多个<strong>列指定为数据框的（行）索引</strong>，使用关键字 <code>index_col=&#39;Name&#39;</code> 指定列作为行索引</li></ul><h2 id="查看dataframe" tabindex="-1"><a class="header-anchor" href="#查看dataframe" aria-hidden="true">#</a> 查看DataFrame</h2><h3 id="查看数据集部分数据" tabindex="-1"><a class="header-anchor" href="#查看数据集部分数据" aria-hidden="true">#</a> 查看数据集部分数据</h3><ul><li>使用方法 <code>.head(N)</code> 查看数据集前 <code>N</code> 行的数据，默认查看前5行数据</li><li>使用方法 <code>.tail(N)</code> 查看数据集最后 <code>N</code> 行的数据，默认查看最后5行数据</li></ul><h3 id="查看数据集nan情况" tabindex="-1"><a class="header-anchor" href="#查看数据集nan情况" aria-hidden="true">#</a> 查看数据集NaN情况</h3><p>使用方法 <code>.isnull</code> 和 <code>.any()</code> 检查<strong>任何列</strong>（默认参数 <code>axis=0</code>）是否包含 <code>NaN</code> 值，可修改参数 <code>axis=1</code> 检查<strong>任何行</strong>是否包含 <code>NaN</code> 值</p><p>结合方法 <code>.sum()</code> 统计<strong>列数（或行数）</strong></p><h3 id="查看数据集统计信息" tabindex="-1"><a class="header-anchor" href="#查看数据集统计信息" aria-hidden="true">#</a> 查看数据集统计信息</h3><p>使用方法 <code>.describe()</code> 返回<strong>每列</strong>的描述性统计信息：</p><ul><li><code>count</code> 统计每列的行数</li><li><code>mean</code> 计算每列的平均值</li><li><code>std</code></li><li><code>min</code></li><li><code>25%</code></li><li><code>50%</code></li><li><code>75%</code></li><li><code>max</code></li></ul><p>可以给方法传递<strong>列名</strong>返回<strong>特定列的描述性统计信息</strong></p><h3 id="查看唯一值" tabindex="-1"><a class="header-anchor" href="#查看唯一值" aria-hidden="true">#</a> 查看唯一值</h3><ul><li><p>使用方法 <code>.describe()</code> 查询<strong>类型为 <code>object</code>（即字符串）列</strong>的唯一值信息</p></li><li><p>使用函数 <code>np.unique(df[[&#39;column_name&#39;]])</code> 返回 dataframe 特定列 <code>column_name</code> 中的<strong>非空唯一值</strong></p><p>⚠️ 访问 <code>column_name</code> 需要使用<strong>双方括号 <code>[[]]</code></strong> 包括，返回一个** Series 类型**</p></li><li><p>使用函数 <code>pd.value_counts(df)</code> 返回一个对唯一值统计的 list</p><p>使用 <code>len(pd.value_counts(df[&#39;column_name&#39;]).index)</code> 返回特定列的唯一值个数</p></li></ul><h3 id="相关性" tabindex="-1"><a class="header-anchor" href="#相关性" aria-hidden="true">#</a> 相关性</h3><p>使用 <code>.corr()</code> 方法获取不同列之间的关联性</p><h3 id="分组数据" tabindex="-1"><a class="header-anchor" href="#分组数据" aria-hidden="true">#</a> 分组数据</h3><p>使用方法 <code>.groupby()</code> 能够以不同的方式<strong>对数据分组</strong></p><p>对于没有明确分组的变量（如连续变量），可以使用<a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.cut.html" target="_blank" rel="noopener noreferrer">函数</a> <code>pd.cut(x, bins)</code>** 对数据进行自定义（按照 <code>bin</code> 作为标准）切分**，默认划分为<strong>左开右闭区间</strong></p><ul><li>输入的 <code>x</code> 是<strong>一维</strong>的 <code>array</code> 对象</li><li>参数 <code>bins</code> 设置分组方法 <ul><li>当 <code>bins=n</code>（<code>n</code> 为正整数），则将数据 <code>x</code> 分成等大小的 <code>n</code> 份，返回一个区间 Serise（记录 <code>x</code> 中各元素所在的区间）</li><li>若 <code>bins=list</code>（<code>list</code> 为列表，其中元素<strong>从小到大依次排列</strong>），则将数据按照列表元素划分区间，返回一个区间 Series（记录 <code>x</code> 中各元素所在的区间）</li></ul></li><li>可使用 <code>index=list_name</code> 为划分的区间<strong>命名</strong>，注意 <code>list_name</code> 标签数量和划分区间数量相同</li></ul><p>具体方法参阅：<a href="https://medium.com/@morris_tai/pandas%E7%9A%84cut-qcut%E5%87%BD%E6%95%B8-93c244e34cfc" target="_blank" rel="noopener noreferrer">pandas的cut&amp;qcut 函數</a></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">&#39;./fake_company.csv&#39;</span><span class="token punctuation">)</span>
data

<span class="token comment"># 按照年份分组（行标签），分析薪资的总和（列标签）</span>
data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Year&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;Salary&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 依次按照年份和部门分组（行标签），分析薪资的总和（列标签）</span>
data<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Year&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Department&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&#39;Salary&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>        Year	Name	Department	Age	Salary
<span class="token number">0</span>	<span class="token number">1990</span>	Alice	HR	<span class="token number">25</span>	<span class="token number">50000</span>
<span class="token number">1</span>	<span class="token number">1990</span>	Bob	RD	<span class="token number">30</span>	<span class="token number">48000</span>
<span class="token number">2</span>	<span class="token number">1990</span>	Charlie	Admin	<span class="token number">45</span>	<span class="token number">55000</span>
<span class="token number">3</span>	<span class="token number">1991</span>	Alice	HR	<span class="token number">26</span>	<span class="token number">52000</span>
<span class="token number">4</span>	<span class="token number">1991</span>	Bob	RD	<span class="token number">31</span>	<span class="token number">50000</span>
<span class="token number">5</span>	<span class="token number">1991</span>	Charlie	Admin	<span class="token number">46</span>	<span class="token number">60000</span>
<span class="token number">6</span>	<span class="token number">1992</span>	Alice	Admin	<span class="token number">27</span>	<span class="token number">60000</span>
<span class="token number">7</span>	<span class="token number">1992</span>	Bob	RD	<span class="token number">32</span>	<span class="token number">52000</span>
<span class="token number">8</span>	<span class="token number">1992</span>	Charlie	Admin	<span class="token number">28</span>	<span class="token number">62000</span>

Year
<span class="token number">1990</span>     <span class="token number">153000</span>
<span class="token number">1991</span>     <span class="token number">162000</span>
<span class="token number">1992</span>     <span class="token number">174000</span>
Name: Salary, dtype: int64

Year     Department
<span class="token number">1990</span>    Admin              <span class="token number">55000</span>
             HR                    <span class="token number">50000</span>
             RD                    <span class="token number">48000</span>
<span class="token number">1991</span>    Admin              <span class="token number">60000</span>
             HR                    <span class="token number">52000</span>
             RD                    <span class="token number">50000</span>
<span class="token number">1992</span>    Admin            <span class="token number">122000</span>
             RD                    <span class="token number">52000</span>
Name: Salary, dtype: int64
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h2 id="dataframe属性" tabindex="-1"><a class="header-anchor" href="#dataframe属性" aria-hidden="true">#</a> DataFrame属性</h2><p>使用属性从 DataFrame 中提取信息</p><h3 id="dataframe元素数据类型" tabindex="-1"><a class="header-anchor" href="#dataframe元素数据类型" aria-hidden="true">#</a> DataFrame元素数据类型</h3><p>使用属性 <code>.dtypes</code> 查看<strong>每列元素的类型</strong></p><p>Pandas 实际上将 dataframe 和序列中的<strong>字符串存储为<a href="https://en.wikipedia.org/wiki/Pointer_(computer_programming)" target="_blank" rel="noopener noreferrer">指针</a></strong>，因此，数据类型是 <code>object</code> 而不是 <code>str</code></p><h3 id="dataframe维度" tabindex="-1"><a class="header-anchor" href="#dataframe维度" aria-hidden="true">#</a> DataFrame维度</h3><p>使用属性 <code>.ndim</code> 返回 DataFrame 维度，一般为 <code>2</code></p><h3 id="dataframe形状" tabindex="-1"><a class="header-anchor" href="#dataframe形状" aria-hidden="true">#</a> DataFrame形状</h3><ul><li>数据框的形状是指每个维度的大小，因为序列是二维，因此的返回的分别是<strong>行和列的数量</strong></li><li>使用属性 <code>.shape</code> 返回 DataFrame 各维度大小</li></ul><h3 id="dataframe大小" tabindex="-1"><a class="header-anchor" href="#dataframe大小" aria-hidden="true">#</a> DataFrame大小</h3><p>使用属性 <code>.size</code> 返回 DataFrame 大小，即元素个数</p><h3 id="输出数据-1" tabindex="-1"><a class="header-anchor" href="#输出数据-1" aria-hidden="true">#</a> 输出数据</h3><p>使用属性 <code>.values</code> 返回 DataFrame 数据部分</p><h3 id="输出行标签" tabindex="-1"><a class="header-anchor" href="#输出行标签" aria-hidden="true">#</a> 输出行标签</h3><p>使用属性 <code>.index</code> 返回 DataFrame 行标签</p><h3 id="输出列标签" tabindex="-1"><a class="header-anchor" href="#输出列标签" aria-hidden="true">#</a> 输出列标签</h3><p>使用属性 <code>.columns</code> 返回 DataFrame 列标签</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;Bob&#39;</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">245</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">&#39;Alice&#39;</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

df <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>data<span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;shopping_carts has shape:&#39;</span><span class="token punctuation">,</span> shopping_carts<span class="token punctuation">.</span>shape<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;shopping_carts has dimension:&#39;</span><span class="token punctuation">,</span> shopping_carts<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;shopping_carts has a total of:&#39;</span><span class="token punctuation">,</span> shopping_carts<span class="token punctuation">.</span>size<span class="token punctuation">,</span> <span class="token string">&#39;elements&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;The data in shopping_carts is:\n&#39;</span><span class="token punctuation">,</span> shopping_carts<span class="token punctuation">.</span>values<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;The row index in shopping_carts is:&#39;</span><span class="token punctuation">,</span> shopping_carts<span class="token punctuation">.</span>index<span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;The column index in shopping_carts is:&#39;</span><span class="token punctuation">,</span> shopping_carts<span class="token punctuation">.</span>columns<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>shopping_carts has shape: <span class="token punctuation">(</span><span class="token number">5</span>, <span class="token number">2</span><span class="token punctuation">)</span>
shopping_carts has dimension: <span class="token number">2</span>
shopping_carts has a total of: <span class="token number">10</span> elements

The data <span class="token keyword">in</span> shopping_carts is:
<span class="token punctuation">[</span><span class="token punctuation">[</span>    <span class="token number">500</span>.    <span class="token number">245</span>.<span class="token punctuation">]</span>
<span class="token punctuation">[</span>       <span class="token number">40</span>.     nan<span class="token punctuation">]</span>
<span class="token punctuation">[</span>     <span class="token number">110</span>.     nan<span class="token punctuation">]</span>
<span class="token punctuation">[</span>       <span class="token number">45</span>.      <span class="token number">25</span>.<span class="token punctuation">]</span>
<span class="token punctuation">[</span>     nan       <span class="token number">55</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span>

The row index <span class="token keyword">in</span> shopping_carts is: Index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;bike&#39;</span>, <span class="token string">&#39;book&#39;</span>, <span class="token string">&#39;glasses&#39;</span>, <span class="token string">&#39;pants&#39;</span>, <span class="token string">&#39;watch&#39;</span><span class="token punctuation">]</span>, <span class="token assign-left variable">dtype</span><span class="token operator">=</span><span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span>
The <span class="token function">column</span> index <span class="token keyword">in</span> shopping_carts is: Index<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Alice&#39;</span>, <span class="token string">&#39;Bob&#39;</span><span class="token punctuation">]</span>, <span class="token assign-left variable">dtype</span><span class="token operator">=</span><span class="token string">&#39;object&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="访问元素-1" tabindex="-1"><a class="header-anchor" href="#访问元素-1" aria-hidden="true">#</a> 访问元素</h2><h3 id="访问部分数据" tabindex="-1"><a class="header-anchor" href="#访问部分数据" aria-hidden="true">#</a> 访问部分数据</h3><ul><li>通过关键字 <code>pd.DataFrame(index, columns)</code> 访问部分数据</li><li>使用方法 <code>df.loc[:,&#39;column_1&#39;:&#39;column_2&#39;]</code> 通过<strong>列标签</strong>访问从 <code>column_1</code> 到 <code>column_2</code> 列的所有行</li><li>使用方法 <code>df.iloc[:,column_number1:column_number2]</code> 通过<strong>列数字标签</strong>访问从 <code>column_1</code> 到 <code>column_number2</code> 列的所有行</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;Bob&#39;</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">245</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;bike&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;watch&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token string">&#39;Alice&#39;</span> <span class="token punctuation">:</span> pd<span class="token punctuation">.</span>Series<span class="token punctuation">(</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">]</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;book&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bike&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">}</span>

shopping_carts <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items<span class="token punctuation">)</span>
shopping_carts

bob_shopping_cart <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items<span class="token punctuation">,</span> columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">&#39;Bob&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
bob_shopping_cart
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	Alice	Bob
bike	<span class="token number">500.0</span>	<span class="token number">245.0</span>
book	<span class="token number">40.0</span>	NaN
glasses	<span class="token number">110.0</span>	NaN
pants	<span class="token number">45.0</span>	<span class="token number">25.0</span>
<span class="token function">watch</span>	NaN	<span class="token number">55.0</span>

	Bob
bike	<span class="token number">245</span>
pants	<span class="token number">25</span>
<span class="token function">watch</span>	<span class="token number">55</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>💡 使用关键字 <code>np.r_</code> 访问不连续的列</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np
<span class="token comment"># 访问 dataframe 不连续的列，即第0列和第1列，第23列至第32列</span>
df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>r_<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">:</span><span class="token number">33</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="访问列" tabindex="-1"><a class="header-anchor" href="#访问列" aria-hidden="true">#</a> 访问列</h3><p>使用列标签组成的<strong>列表</strong>查询多个（单个）列数据 <code>df[[&#39;columns_name1&#39;, &#39;columns_name2&#39;]]</code></p><p>同样可以使用点 <code>.</code> 访问相应的列，<code>df.volumn_name</code> 返回相应的列，类型为 Series，结果与前一种方法相同。</p><h3 id="访问行" tabindex="-1"><a class="header-anchor" href="#访问行" aria-hidden="true">#</a> 访问行</h3><p>使用行标签组成的<strong>列表</strong>，并用属性 <code>.loc</code> 查询多（单）行数据 <code>df.loc[[&#39;index1&#39;, index2&#39;]]</code></p><h3 id="访问元素-2" tabindex="-1"><a class="header-anchor" href="#访问元素-2" aria-hidden="true">#</a> 访问元素</h3><p>使用行标签和列标签查询对应元素的值 <code>df[column][row]</code></p><p>⚠️ 标签顺序是先给出<strong>列标签</strong>，再给出<strong>行标签</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># We print the store_items DataFrame</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>store_items<span class="token punctuation">)</span>

<span class="token comment"># We access rows, columns and elements using labels</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;How many bikes are in each store:\n&#39;</span><span class="token punctuation">,</span> store_items<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;How many bikes and pants are in each store:\n&#39;</span><span class="token punctuation">,</span> store_items<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;What items are in Store 1:\n&#39;</span><span class="token punctuation">,</span> store_items<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#39;store 1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;How many bikes are in Store 2:&#39;</span><span class="token punctuation">,</span> store_items<span class="token punctuation">[</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&#39;store 2&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">10</span>

How many bikes are <span class="token keyword">in</span> each store:

	bikes
store <span class="token number">1</span>	<span class="token number">20</span>
store <span class="token number">2</span>	<span class="token number">15</span>

How many bikes and pants are <span class="token keyword">in</span> each store:

	bikes	pants
store <span class="token number">1</span>	<span class="token number">20</span>	<span class="token number">30</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">5</span>

What items are <span class="token keyword">in</span> Store <span class="token number">1</span>:

	bikes	glasses	pants	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">35</span>

How many bikes are <span class="token keyword">in</span> Store <span class="token number">2</span>: <span class="token number">15</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="方法query" tabindex="-1"><a class="header-anchor" href="#方法query" aria-hidden="true">#</a> 方法query</h3><p>使用方法 <code>.query(&#39;condition_expr&#39;)</code> 返回满足表达式 <code>econdition_expr</code>（即布尔值为 <code>True</code>）的数据集，其中 <code>condition_expr</code> 是一个条件表达式，与<strong>特定列</strong>相关的条件运算，返回一个布尔值</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd

<span class="token comment"># 使用方法 query 筛选出 diagnosis 项的值等于 M 的数据项（行）</span>
df_m <span class="token operator">=</span> df<span class="token punctuation">.</span>query<span class="token punctuation">(</span><span class="token string">&#39;diagnosis == &quot;M&quot;&#39;</span><span class="token punctuation">)</span>
<span class="token comment">#实现相同功能的方法</span>
df_m <span class="token operator">=</span> df<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">&#39;diagnosis&#39;</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&#39;M&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>⚠️</p><ul><li>条件表达式需要使用<strong>单引号 <code>&#39;&#39;</code> 括起来</strong></li><li>条件语句中的字符串则用双引号 <code>&quot;&quot;</code> 括起来，但<strong>列标签</strong>不需要，可（类似变量）直接使用</li><li>可使用关键词构建<strong>复杂的条件表达式</strong>： <ul><li><code>&amp;</code> 和 <code>and</code> 表示条件<strong>和</strong></li><li><code>|</code> 和 <code>or</code> 表示条件<strong>或</strong></li></ul></li></ul><h2 id="添加元素" tabindex="-1"><a class="header-anchor" href="#添加元素" aria-hidden="true">#</a> 添加元素</h2><h3 id="添加列" tabindex="-1"><a class="header-anchor" href="#添加列" aria-hidden="true">#</a> 添加列</h3><ul><li>类似于字典添加新元素的方式，通过 <code>df[new_column_name] = [value1, value2, value3]</code>（假设 <code>df</code> 含有三行数据）</li><li>默认将新列添加到了 DataFrame 的<strong>末尾</strong></li></ul><h3 id="添加列到特定的行" tabindex="-1"><a class="header-anchor" href="#添加列到特定的行" aria-hidden="true">#</a> 添加列到特定的行</h3><p>仅向 DataFrame 中<strong>特定行</strong>添加新的列，其他行使用 <code>NaN</code> 填充。</p><p>使用方法 <code>.insert(loc, label, data)</code> 将列插入到<strong>指定的位置</strong>，关键字 <code>loc</code> 指定新列插入到哪个<strong>索引前</strong>，并以 <code>label</code> 作为列标签</p><h3 id="添加行" tabindex="-1"><a class="header-anchor" href="#添加行" aria-hidden="true">#</a> 添加行</h3><p>需要使用方法 <code>.append()</code> 将新的 <strong>DataFrame</strong> 添加到原始数据框的末尾，若添加的新 DataFrame 引入新的列后，所有<strong>列会按照字母顺序排序</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 打印原始的数据框</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>store_items<span class="token punctuation">)</span>

<span class="token comment"># 添加列</span>
store_items<span class="token punctuation">[</span><span class="token string">&#39;shirts&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
store_items

<span class="token comment"># 添加行</span>
<span class="token comment"># 先创建新的 DataFrame</span>
new_items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
new_store <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>new_items<span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;store 3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
new_store
store_items <span class="token operator">=</span> store_items<span class="token punctuation">.</span>append<span class="token punctuation">(</span>new_store<span class="token punctuation">)</span>
store_items

<span class="token comment"># 使用运算（直接截取/指定） 部分数据产生新的列</span>
<span class="token comment"># 只往特定行添加新的列</span>
<span class="token comment"># 在商店 2 和 3 中上一批新手表，并且新手表的数量与这些商店原有手表的库存一样</span>
store_items<span class="token punctuation">[</span><span class="token string">&#39;new watches&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> store_items<span class="token punctuation">[</span><span class="token string">&#39;watches&#39;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
store_items

<span class="token comment"># 特定位置插入新列，使用方法 .insert(loc, label, data) 指定插入的位置</span>
<span class="token comment"># 将名称为 shoes 的新列插入 suits 列前面（因为 suits 的数字索引值为 4）</span>
store_items<span class="token punctuation">.</span>insert<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
store_items
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">10</span>

	bikes	glasses	pants	watches	shirts
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">35</span>	<span class="token number">15</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">10</span>	<span class="token number">2</span>

	bikes	glasses	pants	watches
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4</span>	<span class="token number">30</span>	<span class="token number">35</span>

	bikes	glasses	pants	shirts	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN	<span class="token number">35</span>

	bikes	glasses	pants	shirts	suits	watches	new watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">45.0</span>	<span class="token number">35</span>	NaN
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">7.0</span>	<span class="token number">10</span>	<span class="token number">10.0</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN	<span class="token number">35</span>	<span class="token number">35.0</span>

	bikes	glasses	pants	shirts	shoes	suits	watches	new watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>	NaN
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>	<span class="token number">10.0</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	<span class="token number">0</span>	NaN	<span class="token number">35</span>	<span class="token number">35.0</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="删除元素-1" tabindex="-1"><a class="header-anchor" href="#删除元素-1" aria-hidden="true">#</a> 删除元素</h2><h3 id="方法pop" tabindex="-1"><a class="header-anchor" href="#方法pop" aria-hidden="true">#</a> 方法pop</h3><p>使用方法 <code>.pop()</code> 允许我们<strong>删除列</strong>，一般默认删除<strong>最后一列</strong></p><h3 id="方法drop" tabindex="-1"><a class="header-anchor" href="#方法drop" aria-hidden="true">#</a> 方法drop</h3><p>使用方法 <code>.drop()</code> 可以同时用于删除行和列，使用关键字 <code>axis</code> 指定要删除的维度，<code>axis = 0</code> 指行，<code>axis = 1</code> 指列</p><h3 id="删除重复项-行" tabindex="-1"><a class="header-anchor" href="#删除重复项-行" aria-hidden="true">#</a> 删除重复项（行）</h3><ul><li>使用方法 <code>.drop_duplicates(subset=None, keep=&#39;first&#39;, inplace=False)</code> 删除重复项</li><li>使用方法 <code>.drop_duplication(subset_column)</code> 根据指定的列 <code>subset_column</code> 重复情况删除相应的项</li><li>删除默认输出<strong>副本</strong>，可以将关键字设置为 <code>inplace = True</code> 在原数据上修改</li><li>关键字 <code>keep=&#39;first&#39;</code> 默认保留第一次出现的项，删除其余的重复项，可更改为 <code>keep=&#39;last&#39;</code> 将保留项选为最后出现的重复项</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>store_items

<span class="token comment"># 删除最后一列 new watches</span>
store_items<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token string">&#39;new watches&#39;</span><span class="token punctuation">)</span>
store_items

<span class="token comment"># 删除指定列，轴设置为 axis = 1，列标签为 watches 和 shoes</span>
store_items <span class="token operator">=</span> store_items<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;watches&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
store_items

<span class="token comment"># 删除指定行，轴设置为 axis = 0，行标签为 store 2 和 store 1</span>
store_items <span class="token operator">=</span> store_items<span class="token punctuation">.</span>drop<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;store 2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
store_items

<span class="token comment"># 在原始的 df 删除重复项</span>
df<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 检查 df 中是否还有项</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;The duplicated entries is: &#39;</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>duplicated<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	shoes	suits	watches	new watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>	NaN
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>	<span class="token number">10.0</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	<span class="token number">0</span>	NaN	<span class="token number">35</span>	<span class="token number">35.0</span>

	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	<span class="token number">0</span>	NaN	<span class="token number">35</span>

	bikes	glasses	pants	shirts	suits
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">45.0</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">7.0</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN

	bikes	glasses	pants	shirts	suits
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN

The duplicated entries is: <span class="token number">0</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="更改标签" tabindex="-1"><a class="header-anchor" href="#更改标签" aria-hidden="true">#</a> 更改标签</h2><p>使用方法 <code>.rename()</code> 更改行和列标签，列标签关键词为 <code>columns</code>，行标签关键词为 <code>index</code></p><p>⚠️ 该修改默认<strong>不在原数据集</strong>上修改，可设置参数 <code>inplace = True</code> 直接在原数据上修改</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>store_items

<span class="token comment"># 将列标签 bikes 改为 hats</span>
store_items <span class="token operator">=</span> store_items<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>columns <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;hats&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 将行标签 store 3 改为 last store</span>
store_items <span class="token operator">=</span> store_items<span class="token punctuation">.</span>rename<span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&#39;store 3&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;last store&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

store_items
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	suits
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN

	        hats	glasses	pants	shirts	suits
last store	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="将行索引改为单独列" tabindex="-1"><a class="header-anchor" href="#将行索引改为单独列" aria-hidden="true">#</a> 将行索引改为单独列</h3><p>使用方法 <code>.set_index(new_columns_name)</code> 为<strong>行索引</strong>设置<strong>列标签</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>store_items

store_items <span class="token operator">=</span> store_items<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">&#39;pants&#39;</span><span class="token punctuation">)</span>
store_items
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	        hats	glasses	pants	shirts	suits
last store	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	NaN

pants	hats	glasses	shirts	suits
<span class="token number">30</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	NaN	NaN
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="处理元素-清理数据" tabindex="-1"><a class="header-anchor" href="#处理元素-清理数据" aria-hidden="true">#</a> 处理元素/清理数据</h2><ul><li>离群值</li><li>不正确的值</li><li>缺少值</li></ul><h3 id="缺少值" tabindex="-1"><a class="header-anchor" href="#缺少值" aria-hidden="true">#</a> 缺少值</h3><p>Pandas 会为缺少的值的元素分配 <code>NaN</code> 值,使用大型数据集训练学习算法之前需要<strong>检测和处理 <code>NaN</code> 值</strong></p><h4 id="计算-nan-数量" tabindex="-1"><a class="header-anchor" href="#计算-nan-数量" aria-hidden="true">#</a> 计算 <code>NaN</code> 数量</h4><h5 id="计算-nan-总个数" tabindex="-1"><a class="header-anchor" href="#计算-nan-总个数" aria-hidden="true">#</a> 计算 <code>NaN</code> 总个数</h5><ul><li>使用方法 <code>.isnull()</code> 返回一个大小和 store_items 一样的<strong>布尔型 DataFrame</strong></li><li>用 <code>True</code> 表示具有 <code>NaN</code> 值的元素，用 <code>False</code> 表示非 <code>NaN</code> 值的元素</li><li>在 Pandas 中，逻辑值 <code>True</code> 的数字值是 <code>1</code>，逻辑值 <code>False</code> 的数字值是 <code>0</code>，可以<strong>通过数逻辑值 <code>True</code> 的数量数出 <code>NaN</code> 值的数量</strong></li><li>结合方法 <code>.sum()</code> 可以统计 <code>NaN</code> 的数量 <ul><li>使用一次方法 <code>.sum()</code> 返回一个 Pandas Series，存储了<strong>列上的逻辑值 <code>True</code> 的数量</strong>（即 <code>NaN</code> 数量）</li><li>再使用一次方法 <code>.sum()</code> 返回 DataFrame 总的 <code>NaN</code> 数量</li></ul></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>items2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;shirts&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&#39;suits&#39;</span><span class="token punctuation">:</span><span class="token number">45</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;shirts&#39;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;suits&#39;</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

store_items <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items2<span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;store 1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
store_items

store_items<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span>

store_items<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

x <span class="token operator">=</span>  store_items<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Number of NaN values in our DataFrame:&#39;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	<span class="token number">10</span>	NaN	<span class="token number">35</span>

	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	False	True	False	False	False	False	False
store <span class="token number">2</span>	False	False	False	False	False	False	False
store <span class="token number">3</span>	False	False	False	True	False	True	False

bikes            <span class="token number">0</span>
glasses        <span class="token number">1</span>
pants           <span class="token number">0</span>
shirts           <span class="token number">1</span>
shoes          <span class="token number">0</span>
suits            <span class="token number">1</span>
watches      <span class="token number">0</span>
dtype: int64

Number of NaN values <span class="token keyword">in</span> our DataFrame: <span class="token number">3</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h5 id="分维度统计-nan-数量" tabindex="-1"><a class="header-anchor" href="#分维度统计-nan-数量" aria-hidden="true">#</a> 分维度统计 <code>NaN</code> 数量</h5><p>使用函数 <code>df.count()</code> 返回<strong>非缺失值</strong>个数（默认按列），设置<strong>参数 <code>axis</code> 如 <code>axis=1</code> 按照行来数非缺失值的个数</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>df

<span class="token comment"># 每列缺失值的个数</span>
df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">-</span> df<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment"># 每行缺失值的个数</span>
df<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> df<span class="token punctuation">.</span>count<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>       a           c          b
<span class="token number">0</span>      <span class="token number">1</span>          <span class="token number">3</span>          NaN
<span class="token number">1</span>      <span class="token number">2</span>          <span class="token number">5</span>          <span class="token number">0</span>
<span class="token number">2</span>      <span class="token number">3</span>         NaN      NaN
<span class="token number">3</span>      <span class="token number">4</span>         NaN      <span class="token number">0</span>

a    <span class="token number">0</span>
b    <span class="token number">2</span>
c    <span class="token number">2</span>

<span class="token number">0</span>      <span class="token number">1</span>
<span class="token number">1</span>      <span class="token number">0</span>
<span class="token number">2</span>      <span class="token number">2</span>
<span class="token number">3</span>      <span class="token number">1</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h5 id="方法-count" tabindex="-1"><a class="header-anchor" href="#方法-count" aria-hidden="true">#</a> 方法 <code>count</code></h5><p>直接使用方法 <code>.count</code> 统计<strong>非 <code>NaN</code> 值</strong>得数量</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>items2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;shirts&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&#39;suits&#39;</span><span class="token punctuation">:</span><span class="token number">45</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;shirts&#39;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;suits&#39;</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

store_items <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items2<span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;store 1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
store_items

<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;Number of non-NaN values in the columns of our DataFrame:\n&#39;</span><span class="token punctuation">,</span> store_items<span class="token punctuation">.</span>count<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	<span class="token number">10</span>	NaN	<span class="token number">35</span>

Number of non-NaN values <span class="token keyword">in</span> the columns of our DataFrame:
bikes            <span class="token number">3</span>
glasses        <span class="token number">2</span>
pants           <span class="token number">3</span>
shirts           <span class="token number">2</span>
shoes          <span class="token number">3</span>
suits            <span class="token number">2</span>
watches      <span class="token number">3</span>
dtype: int64
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h4 id="处理-nan" tabindex="-1"><a class="header-anchor" href="#处理-nan" aria-hidden="true">#</a> 处理 <code>NaN</code></h4><h5 id="删除-nan" tabindex="-1"><a class="header-anchor" href="#删除-nan" aria-hidden="true">#</a> 删除 <code>NaN</code></h5><p>使用方法 <code>.dropna(axis)</code> 删除包含 <code>NaN</code> 值得任何行或列，其中 <code>axis = 0</code> 指行，<code>axis = 1</code> 指列。修改参数 <code>subset=[&#39;column1&#39;, &#39;column2&#39;]</code> 指定删除<strong>特定列中含有 <code>NaN</code> 值</strong>的行。</p><p>⚠️ 方法 <code>.dropna()</code> 中要将<strong>关键字设置为 <code>inplace=True</code></strong>，才可在原始 df 中删除目标行或列。</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>items2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;shirts&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">&#39;suits&#39;</span><span class="token punctuation">:</span><span class="token number">45</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;shirts&#39;</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;suits&#39;</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span><span class="token string">&#39;bikes&#39;</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&#39;pants&#39;</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">&#39;watches&#39;</span><span class="token punctuation">:</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token string">&#39;glasses&#39;</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">&#39;shoes&#39;</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">]</span>

store_items <span class="token operator">=</span> pd<span class="token punctuation">.</span>DataFrame<span class="token punctuation">(</span>items2<span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;store 1&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 2&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;store 3&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
store_items

<span class="token comment"># We drop any rows with NaN values</span>
store_items<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># We drop any columns with NaN values</span>
store_items<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> inplace <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	NaN	<span class="token number">10</span>	NaN	<span class="token number">35</span>

	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>

	bikes	pants	shoes	watches
store <span class="token number">1</span>	<span class="token number">20</span>	<span class="token number">30</span>	<span class="token number">8</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">5</span>	<span class="token number">5</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">30</span>	<span class="token number">10</span>	<span class="token number">35</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h5 id="填充nan" tabindex="-1"><a class="header-anchor" href="#填充nan" aria-hidden="true">#</a> 填充NaN</h5><p>使用<strong>方法 <code>.fillna()</code></strong> 填充 <code>NaN</code>，可选择多种填充方式；或使用<strong>方法 <code>.interpolate()</code></strong> 填充 <code>NaN</code>，可选择不同的<strong>插值方法</strong></p><ul><li><p>方法 <code>.fillna()</code> 填充<strong>特定值</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用 0 填充 NaN</span>
store_items<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
store_items
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	<span class="token number">0.0</span>	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	<span class="token number">0.0</span>	<span class="token number">10</span>	<span class="token number">0.0</span>	<span class="token number">35</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>方法 <code>.fillna()</code> 前向填充 将方法关键字 <code>method</code> 设置为 <code>&#39;ffill&#39;</code>，会沿着给定 <code>axis</code> 使用上个已知值替换 <code>NaN</code>值，当 <code>axis = 0</code> 时<strong>即以上一行</strong>对应位置的值填充；当 <code>axis = 1</code> 时以<strong>即以前一列</strong>对应位置的值填充</p></li><li><p>方法 <code>.fillna()</code> 后向填充 将方法关键字 <code>method</code> 设置为 <code>&#39;backfill&#39;</code>，沿着给定 <code>axis</code> 使用下个已知值替换 <code>NaN</code> 值</p></li><li><p>常使用列的<strong>平均值</strong>填充相应列的 <code>NaN</code> 使用 <code>df.fillna(df.mean(), inplace=True)</code> 实现均值填充</p></li><li><p>方法 <code>.interpolate()</code> 的 <code>linear</code> 函数插值 使用 <code>.interpolate(method = &#39;linear&#39;, axis)</code> 方法，利用 <code>linear</code> 函数计算插值</p></li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用 linear 函数进行 interpolation using column values</span>
store_items<span class="token punctuation">.</span>interpolate<span class="token punctuation">(</span>method <span class="token operator">=</span> <span class="token string">&#39;linear&#39;</span><span class="token punctuation">,</span> axis <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	bikes	glasses	pants	shirts	shoes	suits	watches
store <span class="token number">1</span>	<span class="token number">20</span>	NaN	<span class="token number">30</span>	<span class="token number">15.0</span>	<span class="token number">8</span>	<span class="token number">45.0</span>	<span class="token number">35</span>
store <span class="token number">2</span>	<span class="token number">15</span>	<span class="token number">50.0</span>	<span class="token number">5</span>	<span class="token number">2.0</span>	<span class="token number">5</span>	<span class="token number">7.0</span>	<span class="token number">10</span>
store <span class="token number">3</span>	<span class="token number">20</span>	<span class="token number">4.0</span>	<span class="token number">30</span>	<span class="token number">2.0</span>	<span class="token number">10</span>	<span class="token number">7.0</span>	<span class="token number">35</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>store 3</code> 中的两个 <code>NaN</code> 值被替换成了线性插值。但是注意 <code>store 1</code> 中的 <code>NaN</code> 值没有被替换掉。因为该 <code>NaN</code> 值是该列中的第一个值（即<strong>没有前一行</strong>），因此<strong>插值函数无法计算值</strong>，可改用 <code>axis = 1</code> 根据前一列相应位置计算插值。</p><p>⚠️ 同样地 <code>.interpolate()</code> 方法不在原地替换 <code>NaN</code> 值，将<strong>关键字 <code>inplace</code> 设为 <code>True</code></strong></p><h3 id="重复行" tabindex="-1"><a class="header-anchor" href="#重复行" aria-hidden="true">#</a> 重复行</h3><h4 id="查看重复行" tabindex="-1"><a class="header-anchor" href="#查看重复行" aria-hidden="true">#</a> 查看重复行</h4><ul><li>使用方法 <code>df.duplicated()</code> 返回一个 pandas Series 使用布尔值 <code>False</code> 或 <code>True</code> 来表示对应行是否味重复行。</li><li>使用函数 <code>sum(df.duplicated())</code> 统计 dataframe 中重复值</li></ul><h4 id="删除重复行" tabindex="-1"><a class="header-anchor" href="#删除重复行" aria-hidden="true">#</a> 删除重复行</h4><ul><li>使用方法 <code>.drop_duplicates(subset=None, keep=&#39;first&#39;, inplace=False)</code> 删除重复项</li><li>默认以<strong>所有列的值相同</strong>为重复行评判标准，可以修改<strong>关键词 <code>subset=column_name</code></strong> 根据指定的列 <code>subset_column</code> 重复情况寻找特殊的重复行</li><li>删除默认输出<strong>副本</strong>，可以将关键字设置为 <code>inplace = True</code>，直接在原数据上修改</li><li>关键字 <code>keep=&#39;first&#39;</code> 默认保留第一次出现的项，删除其余的重复项，可更改为<code>keep=&#39;last&#39;</code> 将保留项选为最后出现的重复项</li></ul><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 在原始的 df 删除重复项</span>
df<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 检查 df 中是否还有项</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#39;The duplicated entries is: &#39;</span><span class="token punctuation">,</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>df<span class="token punctuation">.</span>duplicated<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="数据提取" tabindex="-1"><a class="header-anchor" href="#数据提取" aria-hidden="true">#</a> 数据提取</h3><h4 id="从字符串中提取整型" tabindex="-1"><a class="header-anchor" href="#从字符串中提取整型" aria-hidden="true">#</a> 从字符串中提取整型</h4><p>使用方法 <code>.str.extract(&#39;(\d+)&#39;).astype(int)</code> 其中 <code>\d+</code> 是正则表达式，用以匹配<strong>数字</strong></p><h4 id="分裂数据" tabindex="-1"><a class="header-anchor" href="#分裂数据" aria-hidden="true">#</a> 分裂数据</h4><h5 id="分裂为行" tabindex="-1"><a class="header-anchor" href="#分裂为行" aria-hidden="true">#</a> 分裂为行</h5><p>结合<a href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.apply.html" target="_blank" rel="noopener noreferrer">函数</a> <code>.apply</code> 和 Lambda 表达式创建一个函数，沿着特定 <code>axis</code> 方向对每个元素进行操作并用运算<strong>返回的值取代相应元素</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 对使用分隔符 / 包含多个值的单元格数据进行拆分为相应的多行，数据类型为 str</span>

<span class="token comment"># 提取数据框中特定列 fuel 中包含分隔符 / 对应的行</span>
df_multi <span class="token operator">=</span> df<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">&#39;fuel&#39;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">str</span><span class="token punctuation">.</span>contains<span class="token punctuation">(</span><span class="token string">&#39;/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
df_multi
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>                    model  displ        cyl      trans  drive           fuel    veh_class    air_pollution_score  city_mpg    hwy_mpg    cmb_mpg  greenhouse_gas_score  smartway
<span class="token number">582</span>    MERCEDES-BENZ C300    <span class="token number">3.0</span>    <span class="token punctuation">(</span><span class="token number">6</span> cyl<span class="token punctuation">)</span>    Auto-L7    2WD    ethanol/gas    small car                    <span class="token number">6</span>/4     <span class="token number">13</span>/18      <span class="token number">19</span>/25      <span class="token number">15</span>/21                   <span class="token number">7</span>/6        no
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 查询获得只有一项数据的 fuel 列含有多个值</span>
<span class="token comment"># 由于单个单元格包含的复合值数量是两个，需要创建相应的数据项两个副本</span>
df1 <span class="token operator">=</span> df_multi<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 每个混合动力车第一种燃料类型的数据</span>
df2 <span class="token operator">=</span> df_multi<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment"># 每个混合动力车第二种燃料类型的数据</span>

<span class="token comment"># 可以找到除了目标列 fuel 含有多个值以外，另外几个特征也使用分隔符 / 包含多个值，在分隔时需要统一处理，使用列表 split_columns 收集这些列标签</span>
split_columns <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;fuel&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;air_pollution_score&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;city_mpg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;hwy_mpg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cmb_mpg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;greenhouse_gas_score&#39;</span><span class="token punctuation">]</span>

<span class="token comment"># 对每个数据框副本的每个列应用分割功能</span>
<span class="token keyword">for</span> c <span class="token keyword">in</span> split_columns<span class="token punctuation">:</span>
    df1<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> df1<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 提取分割获得的第一个值替换复合值</span>
    df2<span class="token punctuation">[</span>c<span class="token punctuation">]</span> <span class="token operator">=</span> df2<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span> x<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>   <span class="token comment"># 提取分割获得的第二个值替换复合值</span>

<span class="token comment"># 合并两个数据框</span>
new_rows <span class="token operator">=</span> df1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>df2<span class="token punctuation">)</span>

<span class="token comment"># 丢弃原始数据行</span>
df_08<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>df_multi<span class="token punctuation">.</span>index<span class="token punctuation">,</span> inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>

<span class="token comment"># 添加新分割的行，注意添加时需要忽略行标签（构建的数据框 new_rows 两行的标签都是 582），将新添加的行加到末尾</span>
df <span class="token operator">=</span> df<span class="token punctuation">.</span>append<span class="token punctuation">(</span>new_rows<span class="token punctuation">,</span> ignore_index<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
df_08<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>	model	displ	cyl	trans	drive	fuel	veh_class	air_pollution_score	city_mpg	hwy_mpg	cmb_mpg	greenhouse_gas_score	smartway
<span class="token number">982</span>	VOLVO XC <span class="token number">90</span>	<span class="token number">3.2</span>	<span class="token punctuation">(</span><span class="token number">6</span> cyl<span class="token punctuation">)</span>	Auto-S6	2WD	Gasoline	SUV	<span class="token number">7</span>	<span class="token number">14</span>	<span class="token number">20</span>	<span class="token number">16</span>	<span class="token number">4</span>	no
<span class="token number">983</span>	VOLVO XC <span class="token number">90</span>	<span class="token number">3.2</span>	<span class="token punctuation">(</span><span class="token number">6</span> cyl<span class="token punctuation">)</span>	Auto-S6	4WD	Gasoline	SUV	<span class="token number">7</span>	<span class="token number">14</span>	<span class="token number">20</span>	<span class="token number">16</span>	<span class="token number">4</span>	no
<span class="token number">984</span>	VOLVO XC <span class="token number">90</span>	<span class="token number">4.4</span>	<span class="token punctuation">(</span><span class="token number">8</span> cyl<span class="token punctuation">)</span>	Auto-S6	4WD	Gasoline	SUV	<span class="token number">7</span>	<span class="token number">13</span>	<span class="token number">19</span>	<span class="token number">15</span>	<span class="token number">3</span>	no
<span class="token number">985</span>	MERCEDES-BENZ C300	<span class="token number">3.0</span>	<span class="token punctuation">(</span><span class="token number">6</span> cyl<span class="token punctuation">)</span>	Auto-L7	2WD	ethanol	small car	<span class="token number">6</span>	<span class="token number">13</span>	<span class="token number">19</span>	<span class="token number">15</span>	<span class="token number">7</span>	no
<span class="token number">986</span>	MERCEDES-BENZ C300	<span class="token number">3.0</span>	<span class="token punctuation">(</span><span class="token number">6</span> cyl<span class="token punctuation">)</span>	Auto-L7	2WD	gas	small car	<span class="token number">4</span>	<span class="token number">18</span>	<span class="token number">25</span>	<span class="token number">21</span>	<span class="token number">6</span>	no
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="分裂为列" tabindex="-1"><a class="header-anchor" href="#分裂为列" aria-hidden="true">#</a> 分裂为列</h5><h3 id="数据类型转换" tabindex="-1"><a class="header-anchor" href="#数据类型转换" aria-hidden="true">#</a> 数据类型转换</h3><h4 id="将浮点型转换为整数型" tabindex="-1"><a class="header-anchor" href="#将浮点型转换为整数型" aria-hidden="true">#</a> 将浮点型转换为整数型</h4><p>使用方法 <code>.astype(int)</code> 将浮点数据转换为<strong>整数型</strong></p><h2 id="数据可视化" tabindex="-1"><a class="header-anchor" href="#数据可视化" aria-hidden="true">#</a> 数据可视化</h2><p>⚠️ 若使用 Jupyter notebook 进行可视化操作并显示，需要在代码框输入 <code>% matplotlib inline</code></p><h3 id="通用绘图" tabindex="-1"><a class="header-anchor" href="#通用绘图" aria-hidden="true">#</a> 通用绘图</h3><p>使用方法 <code>.plot（kind=&#39;plot_method&#39;)</code> 过关键字 <code>kind</code> 设置图形类型，如</p><ul><li>直方图 <code>hist</code></li><li>柱形图 <code>bar</code></li><li>饼图 <code>pie</code></li><li>箱线图 <code>box</code></li></ul><p>💡 绘制基于<strong>分类统计</strong>的图形时（如柱状图，饼图等），可使用方法 <code>value_counts()</code> 来快速<strong>统计每种值得数量</strong></p><h3 id="直方图" tabindex="-1"><a class="header-anchor" href="#直方图" aria-hidden="true">#</a> 直方图</h3><p>使用方法 <code>.hist()</code> 绘制直方图，</p><h3 id="散点图" tabindex="-1"><a class="header-anchor" href="#散点图" aria-hidden="true">#</a> 散点图</h3><h4 id="单个散点图" tabindex="-1"><a class="header-anchor" href="#单个散点图" aria-hidden="true">#</a> 单个散点图</h4><p>使用方法 <code>.plot.scatter(x=&#39;column_1&#39;, y=&#39;column_2&#39;)</code></p><h4 id="散点图矩阵" tabindex="-1"><a class="header-anchor" href="#散点图矩阵" aria-hidden="true">#</a> 散点图矩阵</h4><p>使用函数 <code>pd.scatter_matrix(dataframe)</code> 绘制多变量间（各列属性）散点图阵列，快速了解变量间得<strong>相关关系</strong></p><h3 id="调整画布大小" tabindex="-1"><a class="header-anchor" href="#调整画布大小" aria-hidden="true">#</a> 调整画布大小</h3><p>使用关键字 <code>figsize=(x, y)</code> 将画布设置成 <code>x*y</code> 的大小</p><h2 id="导出dataframe" tabindex="-1"><a class="header-anchor" href="#导出dataframe" aria-hidden="true">#</a> 导出DataFrame</h2><p>将数据框导出</p><h3 id="写入csv文件" tabindex="-1"><a class="header-anchor" href="#写入csv文件" aria-hidden="true">#</a> 写入CSV文件</h3><p>使用方法 <code>.to_csv(&#39;file_name&#39;)</code> 将 dataframe 保存到 <code>csv</code> 文件中</p><p>⚠️ 默认保存<strong>索引</strong>，若需要忽略（不保存索引<strong>参数修改为 <code>index=False</code></strong>）</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">更新时间: </span><span class="meta-item-info">2021/7/5 上午7:20:58</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><div style="width:0px;" class="catalog-container absolute top-0 right-0 h-full hidden lg:block"><div class="headings-container sticky top-36" data-v-c28348e0><ul class="max-w-max m-2 pl-7 xl:pl-16 2xl:pl-20 py-4 opacity-50 hover:opacity-100 transition-all duration-300" data-v-c28348e0><!--[--><!--]--></ul></div></div><div style="display:none;" tabindex="0" class="sidebar-container fixed inset-y-0 left-0 z-20 lg:hidden opacity-10 hover:opacity-95"><div class="headings-container px-2 space-y-2 transition-all duration-300 py-20" data-v-6eed9461><!--[--><!--]--></div></div></div><footer class="bg-gray-200 p-8 grid grid-cols-1 md:grid-cols-3 gap-4 items-center"><div class="flex justify-center md:justify-start items-center"><a class="p-2 hover:bg-gray-300 rounded-md" href="https://benbinbin.github.io/" target="_blank"><img src="/blog-data/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="text-center space-y-0.5"><p class="text-sm text-gray-600"> ©2021 <span class="author">Benbinbin</span>. All Right Reserved. </p><p class="text-xs text-center text-gray-400"> 除特殊说明外，本站的文章遵循 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400">CC-BY-SA-4.0</a> 协议 </p><p class="text-xs text-center text-gray-400"> 网站主题采用 <a href="https://github.com/Benbinbin/two-dishes-one-fish" target="_blank" class="text-blue-400">Two Dishes One Fish</a></p></div><div class="btn-container flex justify-center md:justify-end items-center space-x-0.5"><!--[--><a class="p-2 hover:bg-gray-300 rounded-md" href="mailto:benthomsonbin@gmail.com" target=""><img src="/blog-data/images/icons/email.svg" alt="email" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://github.com/Benbinbin" target="_blank"><img src="/blog-data/images/icons/github.svg" alt="github" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://juejin.cn/user/3175045314389278/posts" target="_blank"><img src="/blog-data/images/icons/juejin.svg" alt="juejin" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://dribbble.com/BinBinDesign" target="_blank"><img src="/blog-data/images/icons/dribbble.svg" alt="dribbble" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://twitter.com/Benbinbin_fun" target="_blank"><img src="/blog-data/images/icons/twitter.svg" alt="twitter" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://weibo.com/binbindesign" target="_blank"><img src="/blog-data/images/icons/weibo.svg" alt="weibo" class="w-auto h-6"></a><!--]--></div></footer></div><!--]--></div>
    <script type="module" src="/blog-data/assets/app.a4413a59.js" defer></script>
  </body>
</html>
