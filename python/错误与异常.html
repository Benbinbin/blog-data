<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.27">
    <link rel="icon" href="/blog-data/images/favicon.ico"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.5/dist/katex.min.css"><title>错误与异常 | Blog</title><meta name="description" content="A blog and knowledge management system about data and visualization.">
    <link rel="modulepreload" href="/blog-data/assets/app.a4413a59.js"><link rel="modulepreload" href="/blog-data/assets/错误与异常.html.b249382a.js"><link rel="modulepreload" href="/blog-data/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/blog-data/assets/错误与异常.html.1c1ec3be.js">
    <link rel="stylesheet" href="/blog-data/assets/style.b42fd117.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="min-h-screen flex flex-col"><nav class="px-4 sm:px-8 py-2 flex justify-between items-center sticky top-0 z-30 bg-white"><div class="left flex items-center space-x-0.5"><!--[--><button class="text-gray-400 hover:bg-gray-100 catelog-btn p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--><a class="avatar p-2 hover:bg-gray-100 rounded-md" href="/blog-data/#"><img src="/blog-data/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="right hidden sm:flex items-center space-x-0.5"><!--[--><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">All</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Anaconda</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Jupyter</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Math</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Python</button><button class="text-gray-400 p-2 select-none text-sm font-bold hover:text-gray-900 hover:bg-gray-100 rounded-md">Vis</button><!--]--><!--[--><button class="text-gray-900 bg-gray-100 hover:bg-gray-200 p-2 select-none text-sm font-bold hover:text-gray-900 rounded-md hidden lg:block"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"></path></svg></button><!--]--></div><div class="more-container sm:hidden relative"><button style="" class="p-2 select-none hover:bg-gray-100 rounded-md text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M9.5 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm0-5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"></path></svg></button><button style="display:none;" class="p-2 select-none hover:bg-gray-100 rounded-md text-red-400 hover:text-red-500"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="currentColor" viewBox="0 0 16 16"><path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"></path><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"></path></svg></button><div style="display:none;" class="more-modal p-2 absolute top-10 right-0 z-10 flex flex-col space-y-2 bg-gray-100 rounded-md opacity-90"><!--[--><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">All</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Anaconda</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Jupyter</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Math</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Python</button><button class="text-gray-400 px-4 py-2 select-none text-sm text-center font-bold hover:text-gray-900 hover:bg-gray-200 rounded-md">Vis</button><!--]--></div></div></nav><div class="relative flex-grow"><div class="theme-container no-navbar no-sidebar"><!--[--><!----><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><!----><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="错误与异常" tabindex="-1"><a class="header-anchor" href="#错误与异常" aria-hidden="true">#</a> 错误与异常</h1><h2 id="错误-error" tabindex="-1"><a class="header-anchor" href="#错误-error" aria-hidden="true">#</a> 错误 Error</h2><p>编程中会出现三大类型的错误：</p><ul><li><strong>语法错误 SyntaxError</strong>：常常由于拼写错误造成</li><li><strong>用法错误</strong>：要求计算机执行不合理的操作时，就存在用法错误，如传递不符合数据类型的数据。Python 的 <code>NameError</code> 和 <code>TypeError</code> 消息通常都是这种类型的错误。当程序运行时弹出 <code>Traceback</code> 表示「程序出错停止时正在执行的内容」。 <ul><li>当调用函数时出现这类错误，一般返回 <strong><code>Traceback</code></strong> 来显示函数调用流程以尝试告诉你导致该错误的位置。</li><li>最后一行告诉发生了什么类型的错误</li><li>由于错误内容出现在<strong>最近的代码中</strong>，我们可以<strong>从最后</strong>开始分析这段错误信息。在（最后一行的）上一行显示了出错的部分，还<strong>提供了行号</strong>，基于 <code>Traceback</code> 可以找到错误根源并解决问题（但注意，错误消息提供的行号可能不是实际需要更改的行）。</li></ul></li><li><strong>逻辑错误</strong>：程序能正常运行没有崩溃，但是行为和你想要的不一样，因为所写的和想要的不一样。</li></ul><p>较为常见的一种错误类型是 <code>Syntax Error</code> 这种错误类型是在程序运行之前，对程序对代码进行<strong>语法检查</strong>时发现了问题。</p><p>参考链接： Python 教程页面的<a href="https://docs.python.org/3/tutorial/errors.html" target="_blank" rel="noopener noreferrer">错误和异常</a></p><h3 id="语法错误-syntax-error" tabindex="-1"><a class="header-anchor" href="#语法错误-syntax-error" aria-hidden="true">#</a> 语法错误 Syntax Error</h3><p>没有遵守正确的 Python 语法时，无法解析代码就会发生语法错误。</p><p>如多输入或少输入了括号，常有一个插入号 <code>^</code> 表示错误的位置</p><p><strong>注意</strong>：Python 在代码运行之<strong>前</strong>就进行语法错误的检测</p><h2 id="异常-exception" tabindex="-1"><a class="header-anchor" href="#异常-exception" aria-hidden="true">#</a> 异常 Exception</h2><p>异常 Exception 是在代码运行时出现的问题与错误有区别，其中特别注意异常不包括语法错误。异常值是 python 中内置的一类值，如 <code>NameErro</code> 或 <code>TypeError</code>。</p><p>当代码导致异常发生也称为<strong>抛出异常</strong>，通过 Python 输出的异常值可以知道代码发生了何种错误。</p><h3 id="索引错误-indexerror" tabindex="-1"><a class="header-anchor" href="#索引错误-indexerror" aria-hidden="true">#</a> 索引错误 IndexError</h3><p>一般是索引超出了范围导致 <code>IndexError</code></p><h3 id="值异常-valueerror" tabindex="-1"><a class="header-anchor" href="#值异常-valueerror" aria-hidden="true">#</a> 值异常 ValueError</h3><p>类型正确，<strong>值不符合</strong></p><h3 id="变量名错误-nameerror" tabindex="-1"><a class="header-anchor" href="#变量名错误-nameerror" aria-hidden="true">#</a> 变量名错误 NameError</h3><p>一般引用一个未定义的变量名</p><h3 id="zerodivisionerror" tabindex="-1"><a class="header-anchor" href="#zerodivisionerror" aria-hidden="true">#</a> ZeroDivisionError</h3><p>在运算中以 <code>0</code> 作为除数引起的错误</p><h3 id="处理异常" tabindex="-1"><a class="header-anchor" href="#处理异常" aria-hidden="true">#</a> 处理异常</h3><h4 id="try-语句" tabindex="-1"><a class="header-anchor" href="#try-语句" aria-hidden="true">#</a> Try 语句</h4><p>使用 <code>try</code> 语句处理异常，可以在遇到<strong>指定的异常值时执行特定的代码</strong>，避免程序崩溃。</p><p><code>try</code> 语句有4种子句：</p><ul><li><code>try</code> 是唯一<strong>必需</strong>的子句，子句下缩进的代码块是<strong>首先运行的</strong></li><li><code>except</code> 下缩进的代码块是在运行 <code>try</code> 代码块时<strong>遇到异常</strong>后执行的。默认是遇到<strong>所有异常</strong>都会运行该代码块，可以在关键字 <code>except</code> 后指定<strong>特定类型的异常</strong>才运行该代码块。</li><li><code>else</code> 在运行 <code>try</code> 块时<strong>没有遇到异常</strong>时才运行的代码块</li><li><code>finally</code> 在离开 <code>try</code> 语句前，<strong>在任何形式下都将运行 <code>finally</code> 块中的代码</strong>（即使要结束程序）</li></ul><p>示例</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 捕获在运行try代码块遇到的ValueError异常</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    some code
<span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
    soem code

<span class="token comment"># 使用包含多种异常的元组可同时捕获多种异常</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    some code
<span class="token keyword">except</span> <span class="token punctuation">(</span>ValueError<span class="token punctuation">,</span> KeyboardInterrupt<span class="token punctuation">)</span><span class="token punctuation">:</span>
    some code

<span class="token comment"># 如果我们希望**根据异常执行不同的代码块**，可以添加多个`except`块。</span>
<span class="token keyword">try</span><span class="token punctuation">:</span>
    some code
<span class="token keyword">except</span> ValueError<span class="token punctuation">:</span>
    some code
<span class="token keyword">except</span> KeyboardInterrupt<span class="token punctuation">:</span>
    some code
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="访问错误消息" tabindex="-1"><a class="header-anchor" href="#访问错误消息" aria-hidden="true">#</a> 访问错误消息</h4><p>在处理异常时，可以<strong>访问其错误消息</strong></p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    some code
<span class="token keyword">except</span> ZeroDivisionError <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    some code
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;ZeroDivisionError occurred: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>🔨</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ZeroDivisionError occurred: division by zero
</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>或访问未指定的具体错误</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">try</span><span class="token punctuation">:</span>
    some code
<span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>
    some code
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Exception occurred: {}&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>Exception</code> 是 Python 所有内置异常的 <strong><a href="https://docs.python.org/3/library/exceptions.html#bltin-exceptions" target="_blank" rel="noopener noreferrer">基础类</a></strong>。</p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">更新时间: </span><span class="meta-item-info">2021/7/5 上午7:20:58</span></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><div style="width:0px;" class="catalog-container absolute top-0 right-0 h-full hidden lg:block"><div class="headings-container sticky top-36" data-v-c28348e0><ul class="max-w-max m-2 pl-7 xl:pl-16 2xl:pl-20 py-4 opacity-50 hover:opacity-100 transition-all duration-300" data-v-c28348e0><!--[--><!--]--></ul></div></div><div style="display:none;" tabindex="0" class="sidebar-container fixed inset-y-0 left-0 z-20 lg:hidden opacity-10 hover:opacity-95"><div class="headings-container px-2 space-y-2 transition-all duration-300 py-20" data-v-6eed9461><!--[--><!--]--></div></div></div><footer class="bg-gray-200 p-8 grid grid-cols-1 md:grid-cols-3 gap-4 items-center"><div class="flex justify-center md:justify-start items-center"><a class="p-2 hover:bg-gray-300 rounded-md" href="https://benbinbin.github.io/" target="_blank"><img src="/blog-data/images/avatar.png" alt="avatar" class="w-10 h-10 rounded-full"></a></div><div class="text-center space-y-0.5"><p class="text-sm text-gray-600"> ©2021 <span class="author">Benbinbin</span>. All Right Reserved. </p><p class="text-xs text-center text-gray-400"> 除特殊说明外，本站的文章遵循 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.en" target="_blank" class="text-blue-400">CC-BY-SA-4.0</a> 协议 </p><p class="text-xs text-center text-gray-400"> 网站主题采用 <a href="https://github.com/Benbinbin/two-dishes-one-fish" target="_blank" class="text-blue-400">Two Dishes One Fish</a></p></div><div class="btn-container flex justify-center md:justify-end items-center space-x-0.5"><!--[--><a class="p-2 hover:bg-gray-300 rounded-md" href="mailto:benthomsonbin@gmail.com" target=""><img src="/blog-data/images/icons/email.svg" alt="email" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://github.com/Benbinbin" target="_blank"><img src="/blog-data/images/icons/github.svg" alt="github" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://juejin.cn/user/3175045314389278/posts" target="_blank"><img src="/blog-data/images/icons/juejin.svg" alt="juejin" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://dribbble.com/BinBinDesign" target="_blank"><img src="/blog-data/images/icons/dribbble.svg" alt="dribbble" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://twitter.com/Benbinbin_fun" target="_blank"><img src="/blog-data/images/icons/twitter.svg" alt="twitter" class="w-auto h-6"></a><a class="p-2 hover:bg-gray-300 rounded-md" href="https://weibo.com/binbindesign" target="_blank"><img src="/blog-data/images/icons/weibo.svg" alt="weibo" class="w-auto h-6"></a><!--]--></div></footer></div><!--]--></div>
    <script type="module" src="/blog-data/assets/app.a4413a59.js" defer></script>
  </body>
</html>
